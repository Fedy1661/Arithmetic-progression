{"version":3,"sources":["actions.js","components/HOC/correctUrl.js","components/Formulae/formulae.js","util/compose.js","components/HOC/withFormula.js","components/Formulae/formula-nth-term.js","components/Formulae/formula-difference-first.js","components/Formulae/formula-difference-second.js","components/Formulae/formula-explains-name.js","components/Formulae/formula-sum-of-n-first-terms-first.js","components/Formulae/formula-sum-of-n-first-terms-second.js","components/Formulae/index.js","reducer.js","store.js","components/Testing/testing.js","components/NotFound/not-found.js","components/App/index.js","components/App/App.js","index.js"],"names":["selectAnswer","payload","type","correctUrl","pathname","to","length","Formulae","className","location","compose","funcs","comp","reduceRight","wrapped","f","withFormula","Wrapped","props","onClick","canSelect","id","selectedAnswers","indexOf","mapDispatchToProps","connect","questions","question","variants","initialState","test","rightAnswers","actualQuestion","getRandomInt","max","Math","floor","random","stirArr","a","b","createStore","state","i","randomInt","answers","randomInt2","answer","push","sort","idx","slice","win","countTrueAnswersInTest","map","value","console","log","Testing","this","generateTest","key","React","cloneElement","nextQuestion","result","Component","NotFound","useState","timer","setTimer","setInterval","App","path","component","exact","ReactDOM","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.ccd3d357.chunk.js","sourcesContent":["export const GENERATE_TEST = 'GENERATE_TEST';\r\nexport const SELECT_ANSWER = 'SELECT_ANSWER';\r\nexport const NEXT_QUESTION = 'NEXT_QUESTION';\r\n// ============================================\r\n\r\nexport const generateTest = () => {\r\n  return {\r\n    type: GENERATE_TEST\r\n  };\r\n};\r\n\r\nexport const selectAnswer = payload => {\r\n  return {\r\n    type: SELECT_ANSWER,\r\n    payload\r\n  };\r\n};\r\n\r\nexport const nextQuestion = () => {\r\n  return {\r\n    type: NEXT_QUESTION\r\n  };\r\n};\r\n","const correctUrl = (pathname, to) => {\r\n  if (pathname[pathname.length - 1] !== '/') {\r\n    return `${pathname}/${to}`;\r\n  }\r\n  return `${pathname}${to}`;\r\n};\r\n\r\nexport default correctUrl;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport correctUrl from '../HOC/correctUrl';\r\nimport {\r\n  FormulaNthTerm,\r\n  FormulaDifferenceFirst,\r\n  FormulaDifferenceSecond,\r\n  FormulaExplainsName,\r\n  FormulaSumOfNFirstTermsFirst,\r\n  FormulaSumOfNFirstTermsSecond\r\n} from '.';\r\n\r\nconst Formulae = () => {\r\n  return (\r\n    <div className=\"formulae\">\r\n      <div className=\"formulae__block\">\r\n        <h2 className=\"formulae__title title\">Формула n-го члена а.п</h2>\r\n        <div className=\"formulae__wrapper\">\r\n          <FormulaNthTerm />\r\n        </div>\r\n      </div>\r\n      <div className=\"formulae__block\">\r\n        <h2 className=\"formulae__title title\">Формула разности а.п</h2>\r\n        <div className=\"formulae__wrapper\">\r\n          <FormulaDifferenceFirst />\r\n          <FormulaDifferenceSecond />\r\n        </div>\r\n      </div>\r\n      <div className=\"formulae__block\">\r\n        <h2 className=\"formulae__title title\">\r\n          Формула, объясняющая название а.п\r\n        </h2>\r\n        <div className=\"formulae__wrapper\">\r\n          <FormulaExplainsName />\r\n        </div>\r\n      </div>\r\n      <div className=\"formulae__block\">\r\n        <h2 className=\"formulae__title title\">\r\n          Формула суммы n-первых членов а.п\r\n        </h2>\r\n        <div className=\"formulae__wrapper\">\r\n          <FormulaSumOfNFirstTermsFirst />\r\n          <FormulaSumOfNFirstTermsSecond />\r\n        </div>\r\n      </div>\r\n      <Link\r\n        to={location => correctUrl(location.pathname, 'test')}\r\n        className=\"btn\"\r\n      >\r\n        Тест\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Formulae;\r\n","const compose = (...funcs) => comp => {\r\n  return funcs.reduceRight((wrapped, f) => f(wrapped), comp);\r\n};\r\nexport default compose;\r\n","import React from 'react';\r\n\r\nconst withFormula = Wrapped => {\r\n  return props => {\r\n    return (\r\n      <div\r\n        onClick={\r\n          props.canSelect\r\n            ? () => {\r\n                props.selectAnswer(props.id);\r\n              }\r\n            : null\r\n        }\r\n        className={`formulae__formula ${\r\n          props.selectedAnswers.indexOf(props.id) !== -1\r\n            ? 'formulae__formula-active'\r\n            : ''\r\n        }`}\r\n      >\r\n        <Wrapped {...props} />\r\n      </div>\r\n    );\r\n  };\r\n};\r\n\r\nexport default withFormula;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { selectAnswer } from '../../actions';\r\nimport { compose } from '../../util';\r\nimport { withFormula } from '../HOC';\r\n\r\nconst formula = () => {\r\n  return (\r\n    <div className=\"\">\r\n      a<sub>n</sub> = a<sub>1</sub> + (n - 1)d\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ selectedAnswers }) => {\r\n  return { selectedAnswers };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  selectAnswer\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withFormula\r\n)(formula);\r\n","import React from 'react';\r\nimport { withFormula } from '../HOC';\r\nimport { connect } from 'react-redux';\r\nimport { selectAnswer } from '../../actions';\r\nimport { compose } from '../../util';\r\n\r\nconst formula = () => {\r\n  return (\r\n    <div className=\"\">\r\n      d = a<sub>n</sub> - a<sub>n-1</sub>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ selectedAnswers }) => {\r\n  return { selectedAnswers };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  selectAnswer\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withFormula\r\n)(formula);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { selectAnswer } from '../../actions';\r\nimport { compose } from '../../util';\r\nimport { withFormula } from '../HOC';\r\n\r\nconst formula = () => {\r\n  return (\r\n    <div className=\"\">\r\n      d = a<sub>2</sub> - a<sub>1</sub>\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = ({ selectedAnswers }) => {\r\n  return { selectedAnswers };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  selectAnswer\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withFormula\r\n)(formula);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { selectAnswer } from '../../actions';\r\nimport { compose } from '../../util';\r\nimport { withFormula } from '../HOC';\r\n\r\nconst formula = () => {\r\n  return (\r\n    <>\r\n      <div className=\"\">\r\n        a<sub>n</sub> =\r\n      </div>\r\n      <span className=\"fraction\">\r\n        <span className=\"top\">\r\n          a<sub>n-1</sub> + a<sub>n+1</sub>\r\n        </span>\r\n        <span className=\"bottom\">2</span>\r\n      </span>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ selectedAnswers }) => {\r\n  return { selectedAnswers };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  selectAnswer\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withFormula\r\n)(formula);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { selectAnswer } from '../../actions';\r\nimport { compose } from '../../util';\r\nimport { withFormula } from '../HOC';\r\n\r\nconst formula = props => {\r\n  return (\r\n    <>\r\n      <div className=\"\">\r\n        S<sub>n</sub> =\r\n      </div>\r\n      <span className=\"fraction\">\r\n        <span className=\"top\">\r\n          a<sub>1</sub> + a<sub>n</sub>\r\n        </span>\r\n        <span className=\"bottom\">2</span>\r\n      </span>{' '}\r\n      × n\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ selectedAnswers }) => {\r\n  return { selectedAnswers };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  selectAnswer\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withFormula\r\n)(formula);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { selectAnswer } from '../../actions';\r\nimport { compose } from '../../util';\r\nimport { withFormula } from '../HOC';\r\n\r\nconst formula = () => {\r\n  return (\r\n    <>\r\n      <div className=\"\">\r\n        S<sub>n</sub> =\r\n      </div>\r\n      <span className=\"fraction\">\r\n        <span className=\"top\">\r\n          2a<sub>1</sub> + (n - 1)d\r\n        </span>\r\n        <span className=\"bottom\">2</span>\r\n      </span>{' '}\r\n      × n\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ selectedAnswers }) => {\r\n  return { selectedAnswers };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  selectAnswer\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withFormula\r\n)(formula);\r\n","import Formulae from './formulae';\r\nimport FormulaNthTerm from './formula-nth-term';\r\nimport FormulaDifferenceFirst from './formula-difference-first';\r\nimport FormulaDifferenceSecond from './formula-difference-second';\r\nimport FormulaExplainsName from './formula-explains-name';\r\nimport FormulaSumOfNFirstTermsFirst from './formula-sum-of-n-first-terms-first';\r\nimport FormulaSumOfNFirstTermsSecond from './formula-sum-of-n-first-terms-second';\r\n\r\nexport default Formulae;\r\nexport {\r\n  FormulaNthTerm,\r\n  FormulaDifferenceFirst,\r\n  FormulaDifferenceSecond,\r\n  FormulaExplainsName,\r\n  FormulaSumOfNFirstTermsFirst,\r\n  FormulaSumOfNFirstTermsSecond\r\n};\r\n","import React from 'react';\r\nimport { GENERATE_TEST, SELECT_ANSWER, NEXT_QUESTION } from './actions';\r\nimport {\r\n  FormulaNthTerm,\r\n  FormulaDifferenceFirst,\r\n  FormulaDifferenceSecond,\r\n  FormulaExplainsName,\r\n  FormulaSumOfNFirstTermsFirst,\r\n  FormulaSumOfNFirstTermsSecond\r\n} from './components/Formulae';\r\n\r\nconst questions = [\r\n  {\r\n    question: 'Формула n-го члена а.п',\r\n    variants: [<FormulaNthTerm />]\r\n  },\r\n  {\r\n    question: 'Формула разности',\r\n    variants: [<FormulaDifferenceFirst />, <FormulaDifferenceSecond />]\r\n  },\r\n  {\r\n    question: 'Формула, объясняющая название а.п',\r\n    variants: [<FormulaExplainsName />]\r\n  },\r\n  {\r\n    question: 'Формула суммы n-первых членов',\r\n    variants: [\r\n      <FormulaSumOfNFirstTermsFirst />,\r\n      <FormulaSumOfNFirstTermsSecond />\r\n    ]\r\n  }\r\n];\r\n\r\nconst initialState = {\r\n  test: [],\r\n  rightAnswers: 0,\r\n  actualQuestion: null,\r\n  selectedAnswers: []\r\n};\r\nfunction getRandomInt(max) {\r\n  return Math.floor(Math.random() * Math.floor(max));\r\n}\r\n\r\nconst stirArr = (a, b) => {\r\n  return Math.random() - 0.5;\r\n};\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case GENERATE_TEST:\r\n      let test = [];\r\n      for (let i = 0; i < questions.length; i++) {\r\n        let randomInt = getRandomInt(questions[i].variants.length);\r\n        let answers = [[questions[i].variants[randomInt], true]];\r\n        let variants = [i + randomInt];\r\n        while (answers.length !== 4) {\r\n          randomInt = getRandomInt(questions.length);\r\n          let randomInt2 = getRandomInt(questions[i].variants.length - 1);\r\n          let question = questions[randomInt];\r\n          let comp = question.variants[randomInt2];\r\n          let answer = [\r\n            comp,\r\n            question.question === questions[i].question ? true : false\r\n          ];\r\n          if (variants.indexOf(randomInt + randomInt2) === -1) {\r\n            answers.push(answer);\r\n          }\r\n          variants.push(randomInt + randomInt2);\r\n        }\r\n        test.push({\r\n          question: questions[i].question,\r\n          variants: answers.sort(stirArr)\r\n        });\r\n      }\r\n      return {\r\n        ...state,\r\n        rightAnswers: 0,\r\n        actualQuestion: 0,\r\n        test: test.sort(stirArr)\r\n      };\r\n    case SELECT_ANSWER:\r\n      if (state.selectedAnswers.indexOf(payload) === -1) {\r\n        return {\r\n          ...state,\r\n          selectedAnswers: [...state.selectedAnswers, payload]\r\n        };\r\n      } else {\r\n        const idx = state.selectedAnswers.indexOf(payload);\r\n        return {\r\n          ...state,\r\n          selectedAnswers: [\r\n            ...state.selectedAnswers.slice(0, idx),\r\n            ...state.selectedAnswers.slice(idx + 1)\r\n          ]\r\n        };\r\n      }\r\n    case NEXT_QUESTION:\r\n      let win = state.selectedAnswers.length !== 0 ? 0 : false;\r\n      let countTrueAnswersInTest = 0;\r\n      state.test[state.actualQuestion].variants.map(value => {\r\n        return (countTrueAnswersInTest += value[1]);\r\n      });\r\n      for (let value of state.selectedAnswers) {\r\n        if (state.test[state.actualQuestion].variants[value][1]) {\r\n          win += 1;\r\n        } else {\r\n          win = false;\r\n          break;\r\n        }\r\n      }\r\n      if (win !== countTrueAnswersInTest) {\r\n        win = false;\r\n      } else {\r\n        win = win >= 1 ? 1 : 0;\r\n      }\r\n      console.log(countTrueAnswersInTest);\r\n      return {\r\n        ...state,\r\n        rightAnswers: state.rightAnswers + win,\r\n        selectedAnswers: [],\r\n        actualQuestion:\r\n          state.actualQuestion +\r\n          (state.actualQuestion !== 4 && state.selectedAnswers.length !== 0\r\n            ? 1\r\n            : 0)\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore } from 'redux';\r\nimport reducer from './reducer';\r\n\r\nexport default createStore(reducer);","import React, { Component } from 'react';\r\nimport { generateTest, nextQuestion } from '../../actions';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Testing extends Component {\r\n  componentDidMount() {\r\n    this.props.generateTest();\r\n  }\r\n  render() {\r\n    const { test, actualQuestion, rightAnswers } = this.props;\r\n    const questions = actualQuestion !== null && actualQuestion !== 4 && (\r\n      <>\r\n        <h2 className=\"testing__title\">Тестирование</h2>\r\n        <h3 className=\"testing__question title\">\r\n          {`${test[actualQuestion].question} #${actualQuestion+1}`}\r\n        </h3>\r\n        <div className=\"testing__variants\">\r\n          {test[actualQuestion].variants.map((value, key) => {\r\n            return React.cloneElement(value[0], {\r\n              key,\r\n              id: key,\r\n              canSelect: true\r\n            });\r\n          })}\r\n          <button onClick={this.props.nextQuestion} className=\"btn\">\r\n            {actualQuestion !== 3 ? 'Дальше' : 'Результат'}\r\n          </button>\r\n        </div>\r\n      </>\r\n    );\r\n    const result = actualQuestion === 4 && (\r\n    <h2 className=\"testing__title\">{`Результат ${rightAnswers}/${test.length}`}</h2>\r\n    );\r\n    return (\r\n      <div className=\"testing\">\r\n        {questions}\r\n        {result}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = ({ test, actualQuestion, rightAnswers }) => {\r\n  return { test, actualQuestion, rightAnswers };\r\n};\r\nconst mapDispatchToProps = {\r\n  generateTest,\r\n  nextQuestion\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Testing);\r\n","import React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { correctUrl } from '../HOC';\r\n\r\nconst NotFound = () => {\r\n  const [timer, setTimer] = useState(3)\r\n  setInterval(() => { setTimer(timer - 1) }, 1000)\r\n  return (\r\n    <>\r\n      {!timer && <Redirect to={location => correctUrl(location.pathname, '')} />}\r\n      <div className=\"not-found title\">\r\n        Страница не найдена.\r\n        <br></br>\r\n        <br></br>\r\n        Вы будете перенаправлены на главную через <b>{timer}</b> сек.\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default NotFound;","import App from './App';\r\n\r\nexport default App;","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport Formulae from '../Formulae';\r\nimport Testing from '../Testing/testing';\r\nimport NotFound from '../NotFound/not-found';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <div className=\"container\">\r\n          <h1 className=\"header\">Арифмитическая прогрессия</h1>\r\n          <hr />\r\n          <Switch>\r\n            <Route path=\"/\" component={Formulae} exact />\r\n            <Route path=\"/test\" component={Testing} />\r\n            <NotFound />\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/reset.css';\nimport './styles/index.css';\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport App from './components/App';\n\nReactDOM.render(\n<Provider store={store}>\n  <App />\n</Provider>, document.getElementById('root'));\n"],"sourceRoot":""}